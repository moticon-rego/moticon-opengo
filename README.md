# moticon-opengo

Moticon-OpenGo is a Python library which makes it easy to work with
[Moticon OpenGo](https://moticon.com/opengo) data.

It improves the productivity of researchers and motion analysts, helping in the
phase in between data collection and final outcome assessment.

The library provides functionality both for working with raw data collected
using [Moticon OpenGo Sensor Insoles](https://moticon.com/opengo/sensor-insoles),
and also the report data generated by the different report modules of the
[OpenGo Software](https://moticon.com/opengo/software).

This documentation incluces simple examples, encouraging also less experienced
script programmers to go beyond spreadsheet-based data processing.


## 1. Installation

To install Moticon-OpenGo, run the following command in your Python environment:
```
pip install moticon-opengo
```


## 2. Feature Overview

The Moticon-OpenGo library provides functions for processing the data output of
the [OpenGo Software](https://moticon.com/opengo/software).

### 2.1 Text Export Data

Assume we have a bunch of `.txt` files in our current folder, exported using the
OpenGo Software's text export:

```Python
from moticon_opengo.text_export import FileIterator, Measurement, Side

for fname in FileIterator("."):
    meas = Measurement(fname)
    print(meas.name)
    print(meas.side_data[Side.LEFT].total_force)

    for step in meas.steps:
        print(f"step on {step.side} side, detected by the gait report")
```

### 2.2 Gait Export Data

Assume we have a bunch of `.xlsx` files in our current folder, exported using
the OpenGo Software's gait report:

```Python
from moticon_opengo.gait_report import FileIterator, Report

for fname in FileIterator("."):
    rep = Report(fname)
    print(rep.load_histogram.values)

for step in rep.steps:
    print(f"step on {step.side} side, detected by the gait report")
```

### 2.3 Geometry Information

The library provides sensor insole outline and pressure sensor geometry
information:

```Python
from moticon_opengo.text_export import Measurement, Side
from moticon_opengo.geometry import area_factory, outline, sensor_coordinates, \
    sensor_areas_cm2

# Force (N) per sensor is pressure (N/cm2) times sensor area (cm2). Gaps in
# between sensors are compensated by [area_factors].
force_per_sensor: np.array = \
    Measurement("export.txt").side_data(Side.LEFT).pressure * \
    sensor_areas_cm2 * area_factors
```

### 2.4 Plotting

The library helps in generating plots using Matplotlib:

TODO: Return an axis object which already has the sensor insole outline plotted.
Demo how to plot COP data.


## 3. Library Development

This section is for contributors who want to adapt/extend the Moticon-OpenGo
library. If you only want to make use of Moticon-OpenGo as-is for processing
your sensor insole data, then you can skip this section.

### 3.1 Build

For development, install Moticon-OpenGo as follows:
```
pip install -e ."[test,dev]"
```

### 3.2 Testing

To run the tests, make sure you have the package installed with `test` extra
(see section "Build" above). Run the tests as follows:
```
pytest
```

